<script src="blockly_compressed.js"></script>
<script src="blocks_compressed.js"></script>

<script src="msg/js/en.js"></script>


<div id="blocklyDiv" style="height: 480px; width: 600px"></div>

<xml id="toolbox" style="display: none">
<!--
  <block type="controls_if"></block>
  <block type="controls_repeat_ext"></block>
  <block type="logic_compare"></block>
  <block type="math_number"></block>
  <block type="math_arithmetic"></block>
  <block type="text"></block>
  <block type="text_print"></block>

-->

	<category name="TestCategory">
		<block type="string_length"></block>
		<block type="command_moveTo"></block>
		<block type="test"></block> 
	</category>

</xml>

<script>
	var workspace = Blockly.inject('blocklyDiv', {toolbox: document.getElementById('toolbox')});
	Blockly.Blocks['test'] = {init: function(){
									this.appendValueInput('VALUE')
										.setCheck('String')
										.appendField('length of');
									this.setOutput(true, 'Number');
									this.setColour(160);
									//this.setTooltip('Returns number of letters in the provided text.');
									//this.setHelpUrl('http://www.w3schools.com/jsref/jsref_length_string.asp');	
								}
						}

	Blockly.Blocks['string_length'] = {
																	  init: function() {
																	    this.jsonInit({
																	      "message0": 'length of %1',
																	      "args0": [
																	        {
																	          "type": "input_value",
																	          "name": "VALUE",
																	          "check": "String"
																	        }
																	      ],
																	      "output": "Number",
																	      "colour": 160,
																	      "tooltip": "Returns number of letters in the provided text.",
																	      "helpUrl": "http://www.w3schools.com/jsref/jsref_length_string.asp"
																	    });
																	  }
																	};


	Blockly.Blocks['command_moveTo'] = {
										init: function() {
												this.jsonInit({
													  "type": "moveto",
													  "message0": "move cursor to x: %1 , y: %2",
													  "args0": [
													    {
													      "type": "input_value",
													      "name": "x",
													      "check": "Number"
													    },
													    {
													      "type": "input_value",
													      "name": "y",
													      "check": "Number"
													    }
													  ],
													  "inputsInline": true,
													  "previousStatement": null,
													  "nextStatement": null,
													  "colour": 75,
													  "tooltip": "Move to",
													  "helpUrl": "Move to"
													});
												}
											}
</script>
